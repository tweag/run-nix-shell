name: Set up GitHub runner

inputs:
  github_token:
    type: string

runs:
  using: composite
  steps:
    # - uses: cachix/install-nix-action@v24
    #   with:
    #     # nix_path: nixpkgs=./nixpkgs.nix
    #     github_access_token: ${{ inputs.github_token }}
    #     extra_nix_config: |
    #       trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= hydra.iohk.io:f/Ea+s+dFdN+3Y/G+FDgSq+a5NEWhJGzdjvKNGv0/EQ=
    #       extra-substituters = https://cache.iog.io
    - uses: DeterminateSystems/nix-installer-action@v9
      with:
        github-token: ${{ inputs.github_token }}
    - name: Configure
      shell: bash
      run: |
        cat >>.bazelrc.local <<EOF
        common --config=ci
        EOF
